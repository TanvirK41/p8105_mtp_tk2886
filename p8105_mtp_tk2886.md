p8105\_mtp\_tk2886
================
Tanvir Khan
2021-10-21

# Problem 1

### Loading the p8105\_mtp\_data.xlsx data set and cleaning the data set

``` r
naturer_df <-
  read_excel(
    "./data/p8105_mtp_data.xlsx",
    sheet = "this one",
    range = "A9:I1230") %>%
  janitor::clean_names()
```

### replacing numerical codes with actual data information

``` r
naturer_dfc <- 
  naturer_df %>%
  mutate(
    sex = recode(sex, "0" = "Female", "1" = "Male"),
    age_group = recode(age_group,
                       "1" = ">18",
                       "2" = "18-30", 
                       "3" = "31-40", 
                       "4" = "41-50",
                       "5" = "51-60", 
                       "6" = "60+",
                       "7" = "60+", 
                       "8" = "60+"), 
    eop_size_mm = replace(eop_size_mm, is.na(eop_size_mm), "0"),
    eop_size = recode(eop_size,
                      "0" = "0-5",
                      "1" = "5-10",
                      "2" = "10-15",
                      "3" = "15-20",
                      "4" = "20=25",
                      "5" = "25+"
                      ),
    fhp_category = recode(fhp_category,
                          "0" = "0-10",
                          "1" = "10-20",
                          "2" = "20-30",
                          "3" = "30-40",
                          "4" = "40-50",
                          "5" = "50-60",
                          "6" = "60-70",
                          "7" = "70-80"),
    eop_visibility_classification = recode(eop_visibility_classification,
                                           "0" = "eop size 0 mm",
                                           "1" = "0 < eop size mm <= 5",
                                           "2" = "eop size >= 5 mm")
    )

naturer_dfc
```

    ## # A tibble: 1,221 × 9
    ##    sex      age age_group eop_size_mm eop_size eop_visibility_classif… eop_shape
    ##    <chr>  <dbl> <chr>     <chr>       <chr>    <chr>                       <dbl>
    ##  1 Male      18 18-30     14.8        10-15    eop size >= 5 mm                3
    ##  2 Male      26 18-30     17.1        15-20    eop size >= 5 mm                3
    ##  3 Female    22 18-30     0           0-5      0 < eop size mm <= 5           NA
    ##  4 Male      20 18-30     23.9        20=25    eop size >= 5 mm                1
    ##  5 Female    27 18-30     0           0-5      eop size 0 mm                  NA
    ##  6 Female    28 18-30     7.9         5-10     eop size >= 5 mm                2
    ##  7 Female    17 >18       6.4         5-10     eop size >= 5 mm                1
    ##  8 Male      21 18-30     9.4         5-10     eop size >= 5 mm                2
    ##  9 Female    25 18-30     0           0-5      eop size 0 mm                  NA
    ## 10 Male      30 18-30     16.5        15-20    eop size >= 5 mm                2
    ## # … with 1,211 more rows, and 2 more variables: fhp_size_mm <dbl>,
    ## #   fhp_category <chr>

``` r
naturer_dfc %>% 
  group_by(sex, age_group) %>% 
  rename("Age Group" = "age_group") %>% 
  drop_na() %>%  
  summarise(
    frequency = n()) %>% 
  pivot_wider(
    names_from = sex,
    values_from = frequency) %>% 
  knitr::kable()
```

    ## `summarise()` has grouped output by 'sex'. You can override using the `.groups` argument.

| Age Group | Female | Male |
|:----------|-------:|-----:|
| &gt;18    |      1 |   NA |
| 18-30     |     77 |  138 |
| 31-40     |     37 |   77 |
| 41-50     |     23 |   73 |
| 51-60     |     30 |   73 |
| 60+       |     54 |  111 |
